{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>
    {% block title %}<title>Malakaviy Imtihon</title>{% endblock %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="{% static 'css/styles.css' %}" rel="stylesheet"/>
    <!--    new datatable-->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>

    <!--    new datatable-->


    <style>
        .card1 {
            width: 340px;
            height: 340px;
            margin: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            background:  #d0ecdc;
        }
        .card2 {
            width: 340px;
            height: 340px;
            margin: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            background:  #d0ecdc;
        }
        .card1-title {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .card1-content {
            font-size: 3.2rem;
            margin-top: 10px;
        }
        .card2-title {
            font-size: 1.5rem;
            font-weight: bold;
        }
        .card2-content {
            font-size: 5.0rem;
            margin-top: 10px;
        }

        .calendar-container {
    width: 350px;
    margin: 10px;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    overflow: hidden;

}

.calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: #d0ecdc;
    color: black;
    font-size: 1.2em;
}

.calendar-header button {
    background: none;
    border: none;
    color: black;
    font-size: 1.2em;
    cursor: pointer;
}

.calendar-header button:hover {
    text-decoration: underline;
}

.calendar-days {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    background: #f1f1f1;
    text-align: center;
    font-weight: bold;
    padding: 10px 0;
}

.day-name {
    padding: 5px 0;
}

.calendar-dates {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
}

.calendar-dates div {
    padding: 4px 0;
    margin: 2px;
    border-radius: 4px;
    cursor: pointer;
    background: #f9f9f9;
}

.calendar-dates div:hover {
    background: #95efbc;
    color: white;
}

.calendar-dates .today {
    background: #95efbc;
    color: white;
}
.table-container {
    overflow-x: auto; /* Gorizontal scrollni faqat jadval uchun qo'shish */
    max-width: 100%; /* Jadval kengligini cheklash */
}

table {
    width: 100%; /* Jadval to'liq kenglikda bo'lsin */
    border-collapse: collapse; /* Jadval chegaralarini birlashtirish */
}

th, td {
    text-align: left;
    padding: 8px;
    border: 1px solid #ddd; /* Jadval uchun chegaralar */
}

thead {
    background-color: #f4f4f4; /* Bosh qator uchun rang */
}

    .btn-view {
        padding: 5px 10px;
        background-color: #007bff;
        color: #fff;
        border: none;
        cursor: pointer;
        border-radius: 4px;
    }
    .btn-view:hover {
        background-color: #0056b3;
    }
    .img-circle.profile_img {
    width: 50%;
    background: #fff;
    z-index: 1000;
    position: inherit;
    border: 1px solid rgba(52, 73, 94, 0.44);
    text-align: center;
    }

    .img-circle {
        border-radius: 50%;
    }
    img {
        vertical-align: middle;
        border-style: none;
    }
    .profile_info {
        text-align: center;
        padding: 25px 10px 10px;
        width: 100%;
        float: left;
    }
     .profile_pic{
        text-align: center;
     }
     td{
        border: 1px solid #e6edef;
     }
        .modal-footer button {
            min-width: 100px;
        }
        .form-check-label {
            margin-left: 5px;
        }
        .required {
            color: red;
            font-size: 0.9rem;
        }
          .collapse-content {
        margin-top: 10px;
        background-color: #f9f9f9;
        border-radius: 5px;
        padding: 10px;
    }
         .hidden-content {
            display: none;
        }
.form {
margin-bottom: 0px;
        }
.alert-success {
    color: green;
    background-color: #d4edda;
}

.alert-danger {
    color: red;
    background-color: #f8d7da;
}

.alert-info {
    color: blue;
    background-color: #cce5ff;
}
    </style>
</head>
<body class="sb-nav-fixed">
<nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
    <!-- Navbar Brand-->
    <h3 class="logo ps-3">
        <img src="https://static.vecteezy.com/system/resources/previews/019/150/626/non_2x/phd-abstract-technology-logo-design-on-white-background-phd-creative-initials-letter-logo-concept-vector.jpg"
             style="max-width: 80px; max-height: 80px"/>PhD Exam</h3>
    <!-- Sidebar Toggle-->
    <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle"><i
            class="fas fa-bars"></i></button>
    <!-- Navbar Search-->

    <div class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">

    </div>
    <!-- Navbar-->
    <ul class="navbar-nav ms-auto ms-md-0 me-3 me-lg-4">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown"
               style="color: #24695c"
               aria-expanded="false"><i class="fas fa-user fa-fw"></i>
                {% if user.is_authenticated %}
                ({{ user.username }}!)
                <!--						<p style="color: white">Sizning email manzilingiz: {{ user.username }}</p>-->
                {% else %}
                <p>Siz tizimga kirmagansiz. <a href="{% url 'login' %}" style="color: white; font-weight: 500">| LOGIN
                    |</a> sahifasiga o'ting.</p>
                {% endif %}
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                <!--                <li><a class="dropdown-item" href="#!">Settings</a></li>-->
                <li><a class="dropdown-item" href="#!">Activity Log</a></li>
                <li>
                    <hr class="dropdown-divider"/>
                </li>
                <li><a class="dropdown-item" href="{% url 'login' %}"><b>
                    <i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</b></a></li>
            </ul>
        </li>
    </ul>
</nav>

<div id="layoutSidenav">
    <div id="layoutSidenav_nav">

        <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
            <!-- menu profile quick info -->
            <div class="profile clearfix">
                <div class="profile_pic">
                    <img src="https://static.vecteezy.com/system/resources/previews/043/900/708/non_2x/user-profile-icon-illustration-vector.jpg"
                         alt="..." class="img-circle profile_img">
                </div>
                <div class="profile_info">
			{% if user_data %}
    			<h1>Foydalanuvchi Ma'lumotlari</h1>
    			<p>Ism: {{ user_data.name }}</p>
    			<p>Email: {{ user_data.email }}</p>
			{% else %}
    			<p>Foydalanuvchi ma'lumotlari topilmadi.</p>
			{% endif %}
                    <span>Welcome,</span> <h5>Assalomu alaykum, {{ first_name }} {{ last_name }}!</h5>
                    {% if user.is_authenticated %}
                    <h5>({{ user.username }}!)</h5>                    <!--						<p style="color: white">Sizning email manzilingiz: {{ user.username }}</p>-->
                    {% else %}
                    <p>Siz tizimga kirmagansiz. <a href="{% url 'login' %}" style="color: white; font-weight: 500">|
                        LOGIN |</a> sahifasiga o'ting.</p>
                    {% endif %}
                    <!--                    <h2>Admin</h2>-->
                </div>
            </div>
            <!-- /menu profile quick info -->
            <div class="sb-sidenav-menu">
                <div class="nav">
                    <div class="sb-sidenav-menu-heading">MENU</div>
                    <a class="nav-link {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
                       href="{% url 'applications' %}">
                        <div class="sb-nav-link-icon"><i class="fa-solid fas fa-list"></i></div>
                        Arizalar
                    </a>

                </div>
            </div>

        </nav>
    </div>
    <div id="layoutSidenav_content">

        <main>


            <div class="container-fluid px-4">
                <h1 class="mt-4">PhD Exam</h1>
                <ol class="breadcrumb mb-4">
                    <li class="breadcrumb-item active">MALAKAVIY IMTIHON</li>
                </ol>
                {% if messages %}
                {% for message in messages %}
                <div class="alert alert-dismissible fade show {% if message.tags %}alert-{{ message.tags }}{% else %}alert-info{% endif %}"
                     role="alert">
                    <p style="color:red">{{ message }}</p>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
                {% endfor %}
                {% endif %}

                <div class="row">
                    <!--             {% for status, count in status_counts.items %}-->
                    <!--            <div class="col-xl-3 col-md-6">-->
                    <!--                {% if status == "pending" %}-->
                    <!--                <div class="card bg-primary text-white mb-4"-->
                    <!--                     style="display:flex; align-items: center; flex-direction: row;">-->
                    <!--                    <div><i class="fa-solid fa-hourglass-start" style="font-size: 40px; padding-left: 12px;"></i></div>-->
                    <!--                    <div class="card-body">{{ status }}-->
                    <!--                        <div><h1>{{ count }}</h1></div>-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <!--                {% elif status == "accepted" %}-->
                    <!--                <div class="card bg-success text-white mb-4"-->
                    <!--                     style="display:flex; align-items: center; flex-direction: row;">-->
                    <!--                    <div><i class="fa-solid fa-check-circle" style="font-size: 40px; padding-left: 12px;"></i></div>-->
                    <!--                    <div class="card-body">{{ status }}-->
                    <!--                        <div><h1>{{ count }}</h1></div>-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <!--                {% elif status == "rejected" %}-->
                    <!--                <div class="card bg-danger text-white mb-4"-->
                    <!--                     style="display:flex; align-items: center; flex-direction: row;">-->
                    <!--                    <div><i class="fa-solid fa-times-circle" style="font-size: 40px; padding-left: 12px;"></i></div>-->
                    <!--                    <div class="card-body">{{ status }}-->
                    <!--                        <div><h1>{{ count }}</h1></div>-->
                    <!--                    </div>-->
                    <!--                </div>-->
                    <!--                {% endif %}-->
                    <!--            </div>-->
                    <!--            {% endfor %}-->
                    <!--             <div class="col-xl-3 col-md-6">-->
                    <!--                <div class="card bg-warning text-white mb-4"-->
                    <!--                     style="display:flex; align-items: center; flex-direction: row;">-->
                    <!--                    <div><i class="fa-solid fa-users" style="font-size: 40px; padding-left: 12px;"></i></div>-->
                    <!--                    <div class="card-body">Foydalanuvchilar soni-->
                    <!--                        <div><h1>25</h1></div>-->
                    <!--                    </div>-->

                    <!--                    &lt;!&ndash;                                    <div class="card-footer d-flex align-items-center justify-content-between">&ndash;&gt;-->
                    <!--                    &lt;!&ndash;                                        <a class="small text-white stretched-link" href="#">View Details</a>&ndash;&gt;-->
                    <!--                    &lt;!&ndash;                                        <div class="small text-white"><i class="fas fa-angle-right"></i></div>&ndash;&gt;-->
                    <!--                    &lt;!&ndash;                                    </div>&ndash;&gt;-->
                    <!--                </div>-->
                    <!--            </div>-->

                </div>

                <div class="card mb-4">
                    <div class="card-header p-3">
                        <div style="display: flex; align-items: center">
                            <i class="fas fa-table me-1"></i>
                            <h4><b>Arizalar ro‘yxati</b></h4>
                        </div>
                        <div style="display: flex;">
                            <!-- HTML -->

                            <!--                    <a href="{% url 'export_excel' %}" class="btn btn-success">-->
                            <!--                        <i class="fa-solid fa-file-excel"></i> <b>Excel</b>-->
                            <!--                    </a>-->
                            <button type="button" data-toggle="modal" data-target="#exampleModal" id="openModalBtn"
                                    class="btn btn-success"
                                    style="margin-left: 6px; padding-left:14px; padding-right:14px">
                                 <i class="fa-solid fas fa-plus"></i>
                                <a><b>Ariza qo‘shish(zakaz)</b></a>
                            </button>
                            <!-- Modal -->
                            <div class="modal fade" id="exampleModal" aria-labelledby="taskModalLabel"
                                 aria-hidden="true"
                                 role="dialog">

                                <div class="modal-dialog modal-lg" role="document">

                                    <!--                            &lt;!&ndash; FORM&ndash;&gt;-->
                                    <!--                            <form method="POST" action="" enctype="multipart/form-data">-->
                                    <!--                                <input type="hidden" name="item_id" value="2761">-->
                                    <!--                                <div class="modal-content">-->


                                    <!--                                    <div class="modal-header">-->
                                    <!--                                        <h5 class="modal-title" id="add_item">Ariza ma`lumotlarini kiritish</h5>-->
                                    <!--                                        <button class="btn-close" type="button" data-bs-dismiss="modal"-->
                                    <!--                                                aria-label="Close"></button>-->
                                    <!--                                    </div>-->


                                    <!--                                    <div class="modal-body" style="height:auto;">-->
                                    <!--                                        <form action="{% url 'applications' %}" method="post"-->
                                    <!--                                              enctype="multipart/form-data">-->
                                    <!--                                            {% csrf_token %}-->
                                    <!--                                            {{ form.as_p }}-->
                                    <!--                                            <button type="submit" class="btn btn-primary" id="submit-btn">-->
                                    <!--                                                Yuborish-->
                                    <!--                                            </button>-->

                                    <!--                                        </form>-->
                                    <!--                                    </div>-->

                                    <!--                                  -->
                                    <!--                                </div>-->
                                    <!--                            </form>-->
                                    <!--                            &lt;!&ndash; FORM END &ndash;&gt;-->


                                    <!-- FORM-->

                                                               <form method="POST" enctype="multipart/form-data">
                                {% csrf_token %}

                                <!--                                <input type="hidden" name="item_id" value="">-->
                                <div class="modal-content">

                                    <div class="modal-header">
                                        <h5 class="modal-title" id="add_item">Ariza ma`lumotlarini kiritish</h5>
                                        <button class="btn-close" type="button" data-bs-dismiss="modal"
                                                aria-label="Close"></button>

                                    </div>


                                    <div class="modal-body" style="height:auto;">

                                    <p style="color: red; font-family: italic">Ariza ma'lumotlarini lotin yozuvuda kiriting!</p>
                                        <p style="color: red; font-family: italic">E'tibor bering: yuklagan fayllaringiz PDF formatda va 2 mb dan oshmasligi kerak!</p>
                                        <div class="row" style="padding:10px;">


                                            <fieldset class="p-2" style="border: 1px solid #bbbbbb !important;">

                                                <legend class="w-auto"
                                                        style="font-size:20px;margin-top:-30px; background-color: white; color: black;padding:5px;">
                                                    Talabgor ma`lumotlari
                                                </legend>

                                                <div class="row" style="padding:10px;">

                                                    <div class="col-md-4">
                                                        <label class="form-label" for="last_name">Familiya:</label>
                                                        <input class="form-control" name="last_name" id="last_name"
                                                               placeholder="Familiya" required>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <label class="form-label" for="first_name">Ism:</label>
                                                        <input class="form-control" name="first_name" id="first_name"
                                                               placeholder="Ism" required>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <label class="form-label" for="father_name">Otasining
                                                            ismi:</label>
                                                        <input class="form-control" name="father_name" id="father_name"
                                                               placeholder="Otasining ismi" required>
                                                    </div>


                                                </div>

                                                <div class="row" style="padding:10px;">

                                                    <div class="col-md-12">

                                                        <label class="form-label" for="direction">Ixtisoslik nomi</label>
<!--                                                        <select class="form-select" id="direction" >-->
<!--                                                            <option value="">Barchasi</option>-->
<!--                                                            {% for direction in directions %}-->
<!--                                                                <option value="{{ direction.id }}" {% if direction.id == selected_direction_id %}selected{% endif %}>-->
<!--                                                                    {{ direction.directions }}-->
<!--                                                                </option>-->
<!--                                                            {% endfor %}-->
<!--                                                        </select>-->
                                                         <select class="form-select" id="direction" name="directions" onchange="updateSciences()">
                                                             <option value="">Barchasi</option>
                                                            {% for direction in directions %}
                                                                <option value="{{ direction.id }}">{{ direction.directions }}</option>
                                                            {% endfor %}
                                                        </select>

<!--                                                        <select class="form-select" name="directions" id="id_directions"-->
<!--                                                                required>-->
<!--                                                            <option value="" disabled selected>Yo‘nalishni tanlang-->
<!--                                                            </option>-->
<!--                                                            {% for direction in directions %}-->
<!--                                                            <option value="{{ direction.id }}">{{ direction.directions }}-->
<!--                                                            </option>-->
<!--                                                            {% empty %}-->
<!--                                                            <option value="">Yo'nalishlar mavjud emas</option>-->
<!--                                                            {% endfor %}-->
<!--                                                        </select>-->
                                                    </div>


                                                </div>

                                                <div class="row" style="padding:10px;">

                                                    <div class="col-md-6">
                                                        <label class="form-label" for="id_type_edu">Ta'lim turi</label>
                                                        <select class="form-select" name="type_edu" id="id_type_edu"
                                                                required>
                                                            <option disabled selected>Ta'lim turini tanlang</option>
                                                            {% for edu in type_edu %}
                                                            <option value="{{ edu.id }}">{{ edu.name }}</option>
                                                            {% empty %}
                                                            <option value="">Ta'lim turlari mavjud emas</option>
                                                            {% endfor %}
                                                        </select>
                                                    </div>

                                                    <div class="col-md-6">
                                                        <label class="form-label" for="sciences">Fan nomi</label>
                                                        <select class="form-select" id="sciences" name="sciences">
                                                            <option value="" disabled selected>Fan nomini tanlang</option>
                                                            {% for science in sciences %}
                                                                <option value="{{ science.id }}">{{ science.name }}</option>
                                                            {% empty %}
                                                                <option value="">Bu ixtisoslikka aloqador fan mavjud emas</option>
                                                            {% endfor %}
                                                        </select>
<!--                                                        <select class="form-select" name="sciences" id="id_sciences"-->
<!--                                                                required>-->
<!--                                                            <option disabled selected>Fanni tanlang</option>-->
<!--                                                            {% for science in sciences %}-->
<!--                                                            <option value="{{ science.id }}">{{ science.name }}</option>-->
<!--                                                            {% empty %}-->
<!--                                                            <option value="">Fanlar mavjud emas</option>-->
<!--                                                            {% endfor %}-->
<!--                                                        </select>-->
                                                    </div>


                                                </div>


                                            </fieldset>

                                            <div class="mb-4"></div>

                                            <fieldset class="p-2" style="border: 1px solid #bbbbbb !important;">

                                                <legend class="w-auto"
                                                        style="font-size:20px;margin-top:-30px; background-color: white; color: black;padding:5px;">
                                                    Tashkilot
                                                </legend>

                                                <div class="row" style="padding:10px;">

                                                    <div class="row">
                                                        <label class="form-label">Ta`lim olayotgan tashkilot</label>

                                                        <div class="col-md-6">
                                                            <label class="d-block">
                                                                <input class="checkbox_animated" name="chb_milliy"
                                                                       type="checkbox"
                                                                       onchange="toggleCollapse('milliy')" value="UZMU">
                                                                O`zbekiston Milliy Universiteti
                                                            </label>
                                                        </div>

                                                        <div class="col-md-6">
                                                            <label class="d-block">
                                                                <input class="checkbox_animated" name="chb_boshqa"
                                                                       type="checkbox"
                                                                       onchange="toggleCollapse('boshqa')"
                                                                       value="other">
                                                                Boshqa tashkilot
                                                            </label>
                                                        </div>
                                                    </div>

                                                    <!-- Collapse bo'limlar -->
                                                    <div id="milliy_collapse" class="collapse-content"
                                                         style="display: none; padding: 10px; border: 1px solid #ddd;">
                                                        <div>

                                                            <div class="row" style="padding:10px;">

                                                                <div class="col-md-6">

                                                                    <label class="form-label">Telefon raqam:</label><br>
                                                                    <input class="form-control" type="text"
                                                                           id="phone_number" name="phone_number"
                                                                           placeholder="+998 XX XXX XX XX"
                                                                           pattern="\+998 \d{2} \d{3} \d{2} \d{2}"
                                                                           required>


                                                                </div>

                                                                <div class="col-md-6">
                                                                    <label class="form-label" for="oak_decision_milliy">OAK
                                                                        qarori</label>
                                                                    <input class="form-control" type="file"
                                                                           name="oak_decision"
                                                                           id="oak_decision_milliy">
                                                                </div>


                                                            </div>


                                                            <div class="row" style="padding:10px;">
                                                                <p style="color:red;">* Tayanch doktorantura (PhD) va
                                                                    Doktorantura (DSc) doktrantlari uchun buyruq yuklash
                                                                    majburiy emas)</p>

                                                                <div class="col-md-12">
                                                                    <label class="form-label" for="work_order">Ish
                                                                        buyrug‘i</label>
                                                                    <input class="form-control" type="file"
                                                                           name="work_order"
                                                                           id="work_order">
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>

                                                    <div id="boshqa_collapse" class="collapse-content"
                                                         style="display: none; padding: 10px; border: 1px solid #ddd;">
                                                        <div>


                                                            <div class="row" style="padding:10px;">

                                                                <div class="col-md-6">

                                                                    <label class="form-label" for="organization_name">Tashkilot
                                                                        nomi</label>
                                                                    <input class="form-control" type="text"
                                                                           name="organization_name"
                                                                           id="organization_name" required>
                                                                </div>

                                                                <div class="col-md-6">

                                                                    <label class="form-label">Telefon raqam:</label><br>
                                                                    <input class="form-control" type="text"
                                                                           id="phone_number" name="phone_number"
                                                                           placeholder="+998 XX XXX XX XX"
                                                                           pattern="\+998 \d{2} \d{3} \d{2} \d{2}"
                                                                           required>


                                                                </div>

                                                            </div>

                                                            <div class="row" style="padding:10px;">

                                                                <div class="col-md-6">
                                                                    <label class="form-label" for="oak_decision">OAK
                                                                        qarori</label>
                                                                    <input class="form-control" type="file"
                                                                           name="oak_decision"
                                                                           id="oak_decision">
                                                                </div>

                                                                <div class="col-md-6">
                                                                    <label class="form-label" for="reference_letter">Yo‘llanma
                                                                        xati</label>
                                                                    <input class="form-control" type="file"
                                                                           name="reference_letter"
                                                                           id="reference_letter">
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <label class="form-label"
                                                                           for="application">Ariza</label>
                                                                    <input class="form-control" type="file"
                                                                           name="application"
                                                                           id="application" required>
                                                                </div>

                                                            </div>


                                                        </div>
                                                    </div>


                                                </div>


                                            </fieldset>


                                        </div>
                                    </div>

                                    <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary" id="submit-btn">Yuborish</button>


                                        <button type="button" class="btn btn-danger" data-dismiss="modal">Bekor qilish
                                        </button>

                                    </div>

                                </div>
                            </form>

                                    <!-- FORM END -->

                                </div>


                                <!--                        <div id="milliy" style="display:none;">-->

                                <!--                            <div class="row" style="padding:10px;">-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">Telefon raqam</label>-->
                                <!--                                    <input class="form-control" name="tel_raqam" required="">-->
                                <!--                                </div>-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">OAK byulleteni yoki tashkilot kengashi qarori</label>-->
                                <!--                                    <input type="file" class="form-control" name="buyruq_url" required="">-->
                                <!--                                </div>-->


                                <!--                            </div>-->


                                <!--                            <div class="row" style="padding:10px;">-->
                                <!--                                <p style="color:red;">* Tayanch doktorantura (PhD) va Doktorantura (DSc) doktrantlari-->
                                <!--                                    uchun buyruq yuklash majburiy emas)</p>-->

                                <!--                                <div class="col-md-12">-->
                                <!--                                    <label class="form-label">OʻzMU ish buyrugʻi</label>-->
                                <!--                                    <input type="file" class="form-control" name="ish_buyruq">-->
                                <!--                                </div>-->
                                <!--                            </div>-->

                                <!--                        </div>-->


                                <!--                        <div id="boshqa" style="display:none;">-->


                                <!--                            <div class="row" style="padding:10px;">-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">Tashkilot nomi</label>-->
                                <!--                                    <input class="form-control" name="org_name" placeholder="lotinchada yozing"-->
                                <!--                                           required="">-->
                                <!--                                </div>-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">Telefon raqam</label>-->
                                <!--                                    <input class="form-control" name="tel_raqam" required="">-->
                                <!--                                </div>-->

                                <!--                            </div>-->

                                <!--                            <div class="row" style="padding:10px;">-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">OAK byulluteni yoki tashkilot kengashi qarori</label>-->
                                <!--                                    <input type="file" class="form-control" name="buyruq_url" required="">-->
                                <!--                                </div>-->

                                <!--                                <div class="col-md-6">-->
                                <!--                                    <label class="form-label">Yo`llanma xat</label>-->
                                <!--                                    <input type="file" class="form-control" name="xat_file" required="">-->
                                <!--                                </div>-->

                                <!--                            </div>-->

                                <!--                        </div>-->

                            </div>

                            <!--                    <button type="button" data-toggle="modal" data-target="#filterModal" id="openModalBtn1"-->
                            <!--                            class="btn btn-dark"-->
                            <!--                            style="margin-left: 6px; padding-left:14px; padding-right:14px">-->
                            <!--                        <i class="fa-solid fa-filter"></i>-->
                            <!--                        <a><b>Filter</b></a>-->
                            <!--                    </button>-->
                            <!--                    <div class="modal fade" id="filterModal" aria-labelledby="taskModalLabel" aria-hidden="true"-->
                            <!--                         role="dialog">-->
                            <!--                        <div class="modal-dialog" role="document">-->
                            <!--                            <div class="modal-content">-->
                            <!--                                <div class="modal-header">-->
                            <!--                                    <h5 class="modal-title" id="">Filter</h5>-->
                            <!--                                    <button class="btn-close" type="button" data-bs-dismiss="modal"-->
                            <!--                                            aria-label="Close"></button>-->
                            <!--                                </div>-->

                            <!--                                <form method="GET" action="{% url 'adminapplications' %}">-->
                            <!--                                    <div class="modal-body">-->
                            <!--                                        <div class="mb-3">-->
                            <!--                                            <label for="science" class="form-label">FAN</label>-->
                            <!--                                            <div class="input-group">-->
                            <!--                                                <select class="form-select" name="science" id="science">-->
                            <!--                                                    <option value="">Barchasi</option>-->
                            <!--                                                    {% for science in sciences %}-->
                            <!--                                                    <option value="{{ science.id }}" {% if science.id == selected_science %}selected{% endif %}>-->
                            <!--                                                        {{ science.name }}-->
                            <!--                                                    </option>-->
                            <!--                                                    {% endfor %}-->
                            <!--                                                </select>-->
                            <!--                                            </div>-->
                            <!--                                        </div>-->

                            <!--                                        <div class="mb-3">-->
                            <!--                                            <label for="status" class="form-label">STATUS</label>-->
                            <!--                                            <div class="input-group" style="w-100">-->
                            <!--                                                <select class="form-select" name="status" id="status">-->
                            <!--                                                    <option value="">Barchasi</option>-->
                            <!--                                                    {% for status, label in statuses %}-->
                            <!--                                                    <option value="{{ status }}" {% if status == selected_status %}selected{% endif %}>-->
                            <!--                                                        {{ label }}-->
                            <!--                                                    </option>-->
                            <!--                                                    {% endfor %}-->
                            <!--                                                </select>-->
                            <!--                                            </div>-->
                            <!--                                        </div>-->

                            <!--                                    </div>-->
                            <!--                                    <div class="modal-footer">-->
                            <!--                                        <button type="submit" class="btn btn-success">Filtrlash</button>-->
                            <!--                                    </div>-->
                            <!--                                </form>-->


                            <!--                            </div>-->
                            <!--                        </div>-->
                            <!--                    </div>-->
                        </div>

                    </div>
                    <div class="card-body mt-2" style="overflow-x: auto; max-width:100%;">
                        <table id="myTable" class="display table table-striped" style="width:100%; padding-top: 20px">
                            <thead>
                            <tr>
                                <th>ID</th>
                                <th>FIO</th>
                                <th>YO‘NALISH</th>
                                <th>TASHKILOT</th>
                                <th>FAN NOMI</th>
                                <th>STATUS</th>
                                <th>AMAL</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for application in applications %}
                            <tr id="row_{{ application.id }}">
                                <td>{{ application.id }}</td>
                                <td>{{ application.last_name }} {{ application.first_name }} {{ application.father_name }}</td>
                                <td>{{ application.directions }}</td>
                                <td>{{ application.organization }}</td>
                                <td>{{ application.sciences }}</td>
                                <td id="status_{{ application.id }}">
                            <span class="
                    {% if application.status == 'pending' %}
                        btn btn-outline-warning
                    {% elif application.status == 'accepted' %}
                        btn btn-outline-success
                    {% elif application.status == 'rejected' %}
                        btn btn-outline-danger
                    {% else %}
                        btn btn-outline-secondary
                    {% endif %}">{{ application.get_status_display }}</span>
                                </td>
                                <td>
                                    <form method="POST" action="{% url 'update_status' pk=application.id %}">
                                        {% csrf_token %}
                                        <button type="button" class="btn btn-success" data-bs-toggle="modal"
                                                data-bs-target="#applicationModal_{{ application.id }}">
                                            <i class="fa-regular fas fa-eye"></i>  Ko‘rish
                                        </button>
                                    </form>
                                </td>
                            </tr>


                            {% endfor %}

                            </tbody>
                        </table>

                    </div>
                    {% for application in applications %}

                    <div class="modal fade" id="applicationModal_{{ application.id }}" tabindex="-1"
                         aria-labelledby="modalLabel"
                         aria-hidden="true"
                         style="padding-right: 17px;">


                        <div class="modal-dialog modal-lg" role="document">

                            <!-- FORM-->
                            <form id="statusForm_{{ application.id }}" method="POST"
                                  onsubmit="return updateStatus({{ application.id }});">

                                {% csrf_token %}
                                <input type="hidden" name="item_id" value="id">
                                <div class="modal-content">


                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalLabel">Ariza ma`lumotlari</h5>
                                        <button class="btn-close" type="button" data-bs-dismiss="modal"
                                                aria-label="Close"></button>
                                    </div>


                                    <div class="modal-body" style="height:auto;">


                                        <div class="row" style="padding:10px;">


                                            <fieldset class="p-2" style="border: 1px solid #bbbbbb !important;">

                                                <legend class="w-auto"
                                                        style="font-size:20px;margin-top:-30px; background-color: white; color: black;padding:5px;">
                                                    Talabgor ma`lumotlari
                                                </legend>

                                                <div class="row" style="padding:10px;">

                                                    <div class="col-md-12">
                                                        <label class="form-label">F.I.SH:</label><br>
                                                        <b>{{application.last_name}} {{application.first_name}}
                                                            {{application.father_name}}</b>
                                                    </div>

                                                </div>

                                                <div class="row" style="padding:10px;">

                                                    <div class="col-md-4">
                                                        <label class="form-label">Ixtisoslik nomi:</label><br>
                                                        <b>{{application.directions }} </b>

                                                    </div>

                                                    <div class="col-md-4">
                                                        <label class="form-label">Ta`lim turi</label><br>
                                                        <b>{{application.type_edu }} </b>
                                                    </div>

                                                    <div class="col-md-4">
                                                        <label class="form-label">Malakaviy imtixon fani:</label><br>
                                                        <b>{{application.sciences }} </b>
                                                    </div>


                                                </div>
                                                <div class="row" style="padding:10px;">
                                                    <div class="col-md-4">
                                                        <label class="form-label">Ariza holati:</label><br>
                                                        {% if application.status == 'rejected' %}
                                                        <b style="color: red">Rad etilgan</b>
                                                        <br>
                                                        <label class="form-label">Rad etilish sababi:</label><br>
                                                        <b style="color: red">{{ application.reason }}</b>
                                                        {% elif application.status == 'accepted' %}
                                                        <b style="color: green">Qabul qilingan</b>
                                                        {% else %}
                                                        <b style="color: orange">Kutilmoqda</b>
                                                        {% endif %}
                                                    </div>
                                                </div>


                                            </fieldset>

                                            <div class="mb-4"></div>


                                        </div>

                                    </div>


                                </div>
                            </form>
                            <!-- FORM END -->

                        </div>


                    </div>
                    {% endfor %}
                </div>

            </div>
        </main>
        <footer class="py-4 bg-light mt-auto">
            <div class="container-fluid px-4">
                <div class="d-flex align-items-center justify-content-between small">
                    <div class="text-muted">Malakaviy m &copy; Your Website 2023</div>
                    <div>
                        <a href="#">Privacy Policy</a>
                        &middot;
                        <a href="#">Terms &amp; Conditions</a>
                    </div>
                </div>
            </div>
        </footer>

    </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        crossorigin="anonymous"></script>
<script src="{% static 'js/scripts.js' %}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>

<!--new datatable-->
<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/2.1.8/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.1.8/js/dataTables.bootstrap5.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<!--new datatable-->
<script>
    document.getElementById('export-excel').addEventListener('click', function() {
     // AJAX orqali serverga so'rov yuborish
     fetch('/export_excel/', {
         method: 'GET',
     })
     .then(response => response.blob())
     .then(blob => {
         // Excel faylini olish va foydalanuvchiga ko'rsatish
         const link = document.createElement('a');
         link.href = window.URL.createObjectURL(blob);
         link.download = 'applications.xlsx';  // Fayl nomi
         link.click();
     })
     .catch(error => console.error('Error exporting to Excel:', error));
 });

</script>

<script>
    $(document).ready(function() {
    var table = $('#myTable').DataTable({
        "order": [[0, 'desc']] // 0-ustun bo'yicha kamayish tartibida tartiblash
    });
});

</script>

<script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();

</script>
<script>
    let timeout = 10 * 60 * 1000; // 10 daqiqa
setTimeout(() => {
    alert("Sizning seansingiz tugadi. Iltimos, qayta tizimga kiring.");
    window.location.href = "/login/"; // Login sahifasiga yo'naltirish
}, timeout);

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script>

    document.getElementById('openModalBtn').addEventListener('click', function () {
        const modal = new bootstrap.Modal(document.getElementById('exampleModal'));
        modal.show();
    });
    document.getElementById('openModalBtn1').addEventListener('click', function () {
        const modal = new bootstrap.Modal(document.getElementById('filterModal'));
        modal.show();
    });
    document.getElementById('openModalBtn2').addEventListener('click', function () {
        const modal = new bootstrap.Modal(document.getElementById('crud_modal'));
        modal.show();
    });


    function toggleCollapse(section) {
        // Collapse elementlarni olish
        const milliyCheckbox = document.querySelector('input[name="chb_milliy"]');
        const boshqaCheckbox = document.querySelector('input[name="chb_boshqa"]');
        const milliyCollapse = document.getElementById('milliy_collapse');
        const boshqaCollapse = document.getElementById('boshqa_collapse');

        // Collapse bo'limlarni boshqarish va checkboxlarni nazorat qilish
        if (section === 'milliy') {
            if (milliyCheckbox.checked) {
                milliyCollapse.style.display = 'block';
                boshqaCollapse.style.display = 'none';
                boshqaCheckbox.checked = false; // Ikkinchi checkboxni o'chirish
            } else {
                milliyCollapse.style.display = 'none';
            }
        } else if (section === 'boshqa') {
            if (boshqaCheckbox.checked) {
                boshqaCollapse.style.display = 'block';
                milliyCollapse.style.display = 'none';
                milliyCheckbox.checked = false; // Birinchi checkboxni o'chirish
            } else {
                boshqaCollapse.style.display = 'none';
            }
        }
    }
function toggleCollapse(section) {
        // Collapse elementlarni olish
        const milliyCheckbox = document.querySelector('input[name="chb_milliy"]');
        const boshqaCheckbox = document.querySelector('input[name="chb_boshqa"]');
        const milliyCollapse = document.getElementById('milliy_collapse');
        const boshqaCollapse = document.getElementById('boshqa_collapse');

        // Collapse bo'limlarni boshqarish va checkboxlarni nazorat qilish
        if (section === 'milliy') {
            if (milliyCheckbox.checked) {
                milliyCollapse.style.display = 'block';
                boshqaCollapse.style.display = 'none';
                boshqaCheckbox.checked = false; // Ikkinchi checkboxni o'chirish
            } else {
                milliyCollapse.style.display = 'none';
            }
        } else if (section === 'boshqa') {
            if (boshqaCheckbox.checked) {
                boshqaCollapse.style.display = 'block';
                milliyCollapse.style.display = 'none';
                milliyCheckbox.checked = false; // Birinchi checkboxni o'chirish
            } else {
                boshqaCollapse.style.display = 'none';
            }
        }
    }


</script>
<script>
    // Tugmalarni topamiz
    const buttons = document.querySelectorAll('[data-modal-id]');

    buttons.forEach(button => {
        button.addEventListener('click', function () {
            const modalId = button.getAttribute('data-modal-id');
            const modal = document.getElementById(modalId);
            modal.style.display = 'block';
        });
    });

    // Modalni yopish uchun tugmalar
    const closeButtons = document.querySelectorAll('.modal .btn-close');

    closeButtons.forEach(closeBtn => {
        closeBtn.addEventListener('click', function () {
            const modal = closeBtn.closest('.modal');
            modal.style.display = 'none';
        });
    });

</script>
<script>
    function toggleContent(checkbox, contentId) {
        const contentDiv = document.getElementById(contentId);

        if (checkbox.checked) {
            contentDiv.style.display = "block"; // Forma ochiladi
        } else {
            contentDiv.style.display = "none";  // Forma yopiladi
        }
    }
</script>

<script>

    document.getElementById("submit-btn").onclick = function() {
        this.disabled = true; // Tugmani o'chirish
        this.form.submit(); // Formani yuborish
    };

</script>

<script>
    function toggleCheckboxes(current, otherId) {
        const otherCheckbox = document.getElementById(otherId);
        if (current.checked) {
            otherCheckbox.checked = false; // Boshqa checkboxni o'chirish
            const reasonContent = document.getElementById('rad_content_' + current.id.split('_')[2]);
            reasonContent.style.display = current.value === 'rejected' ? 'block' : 'none';
        }
    }

    function updateStatus(applicationId) {
        const form = document.getElementById('statusForm_' + applicationId);
        const formData = new FormData(form);
        const csrfToken = formData.get('csrfmiddlewaretoken');
        const status = formData.get('status');
        const reason = formData.get('reason');

        fetch(`/update_status/${applicationId}/`, {
            method: 'POST',
            headers: {
                'X-CSRFToken': csrfToken
            },
            body: formData
        })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    // Jadvaldagi statusni yangilash
                    document.getElementById('status_' + applicationId).innerText = data.status === 'accepted'
                        ? 'Qabul qilingan'
                        : 'Rad etilgan';
                    // Modalni yopish
                    const modal = bootstrap.Modal.getInstance(document.getElementById('applicationModal_' + applicationId));
                    modal.hide();
                } else {
                    alert('Xatolik yuz berdi!');
                }
            })
            .catch(error => console.error('Error:', error));

        return false; // Formani qayta yuklashni oldini olish
    }
    function updateStatus(applicationId) {
    const form = document.getElementById('statusForm_' + applicationId);
    const formData = new FormData(form);
    const csrfToken = formData.get('csrfmiddlewaretoken');
    const status = formData.get('status');

    if (!status) {
        alert('Iltimos, statusni tanlang!');
        return false;
    }

    fetch(`/update_status/${applicationId}/`, {
        method: 'POST',
        headers: {
            'X-CSRFToken': csrfToken
        },
        body: formData
    })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById('status_' + applicationId).innerText =
                    data.status === 'accepted' ? 'Qabul qilingan' : 'Rad etilgan';
                const modal = bootstrap.Modal.getInstance(document.getElementById('applicationModal_' + applicationId));
                modal.hide();
            } else {
                alert(data.message || 'Xatolik yuz berdi!');
            }
        })
        .catch(error => console.error('Error:', error));

    return false;
}

</script>
<script>
    def validate_file(file):
    max_size = 5 * 1024 * 1024  # 5MB
    if file.size > max_size:
        raise ValidationError("Fayl hajmi 5MB dan oshmasligi kerak.")
    valid_extensions = ['.pdf', '.doc', '.docx']
    ext = os.path.splitext(file.name)[1]
    if ext.lower() not in valid_extensions:
        raise ValidationError("Faqat PDF yoki Word fayllariga ruxsat beriladi.")

</script>
<script>
    document.getElementById('submit-btn').addEventListener('click', function(event) {
        var directions = document.getElementById('directions').value;
        var sciences = document.getElementById('sciences').value;
        var type_edu = document.getElementById('type_edu').value;
        var first_name = document.getElementById('first_name').value;
        var last_name = document.getElementById('last_name').value;
        var father_name = document.getElementById('father_name').value;
        var phone_number = document.getElementById('phone_number').value;

        // Kerakli maydonlar to'ldirilganligini tekshirish
        if (!directions || !sciences || !type_edu || !first_name || !last_name || !father_name || !phone_number) {
            event.preventDefault();  // Forma yuborilmasligi uchun
            alert("Iltimos, barcha maydonlarni to'ldiring!");
        }
    });
</script>
<script>
    // Sana
  function formatDate(date) {
      const days = ["Yakshanba", "Dushanba", "Seshanba", "Chorshanba", "Payshanba", "Juma", "Shanba"];
      const months = ["Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun", "Iyul", "Avgust", "Sentabr", "Oktabr", "Noyabr", "Dekabr"];

      const dayName = days[date.getDay()];
      const day = String(date.getDate()).padStart(2, "0");
      const month = String(date.getMonth() + 1).padStart(2, "0");
      const year = date.getFullYear();

      return `${dayName}, ${day}/${month}/${year}`;
  }

  // Sana va soatni yangilash funksiyasi
  function updateDate() {
      const today = new Date();
      const formattedDate = formatDate(today);
      document.getElementById("date-display").textContent = formattedDate;
  }

  // Soat
  function updateTime() {
      const now = new Date();
      const formattedTime = now.toLocaleTimeString("uz-UZ");
      document.getElementById("current-time").textContent = formattedTime;
  }

  // Dastlabki yuklash
  updateDate();
  updateTime();

  // Har 1 soniyada soatni yangilash
  setInterval(updateTime, 1000);


</script>
<script>
    const monthYearElement = document.getElementById("month-year");
const calendarDatesElement = document.getElementById("calendar-dates");
const prevMonthButton = document.getElementById("prev-month");
const nextMonthButton = document.getElementById("next-month");

let currentDate = new Date();

function renderCalendar(date) {
    const year = date.getFullYear();
    const month = date.getMonth();
    const firstDayOfMonth = new Date(year, month, 1).getDay();
    const lastDateOfMonth = new Date(year, month + 1, 0).getDate();

    // Oylik nomi va yilni ko'rsatish
    const monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
    ];
    monthYearElement.textContent = `${monthNames[month]} ${year}`;

    // Sanalarni tozalash
    calendarDatesElement.innerHTML = "";

    // Birinchi kun uchun bo'sh hujayralar
    for (let i = 0; i < (firstDayOfMonth === 0 ? 6 : firstDayOfMonth - 1); i++) {
        const emptyDiv = document.createElement("div");
        calendarDatesElement.appendChild(emptyDiv);
    }

    // Oyning barcha kunlarini qo'shish
    for (let day = 1; day <= lastDateOfMonth; day++) {
        const dayDiv = document.createElement("div");
        dayDiv.textContent = day;

        // Agar bugungi kun bo'lsa, alohida sinf qo'shiladi
        if (
            day === new Date().getDate() &&
            month === new Date().getMonth() &&
            year === new Date().getFullYear()
        ) {
            dayDiv.classList.add("today");
        }

        calendarDatesElement.appendChild(dayDiv);
    }
}

// Oldingi va keyingi oyni boshqarish
prevMonthButton.addEventListener("click", () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar(currentDate);
});

nextMonthButton.addEventListener("click", () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar(currentDate);
});

// Boshlang'ich kalendarni ko'rsatish
renderCalendar(currentDate);

</script>

<script>
    function updateSciences() {
        var directionId = document.getElementById("direction").value;
        var sciencesSelect = document.getElementById("sciences");

        // Fanlar optionlarini tozalash
        sciencesSelect.innerHTML = '<option value="" disabled selected>Fan nomini tanlang</option>';

        if (directionId) {
            // AJAX so'rovi yuborish
            fetch("{% url 'adminapplications' %}?direction_id=" + directionId, {
                method: 'GET',
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.json())
            .then(data => {
                if (data.sciences.length > 0) {
                    // Fanlar mavjud bo'lsa
                    data.sciences.forEach(science => {
                        var option = document.createElement('option');
                        option.value = science.id;
                        option.textContent = science.name;
                        sciencesSelect.appendChild(option);
                    });
                } else {
                    // Fanlar mavjud bo'lmasa
                    var option = document.createElement('option');
                    option.value = "";
                    option.textContent = "Bu ixtisoslikka aloqador fan mavjud emas";
                    sciencesSelect.appendChild(option);
                }
            })
            .catch(error => {
                console.error('Fanlarni olishda xato:', error);
            });
        }
    }
</script>

</body>
</html>
